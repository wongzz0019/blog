# if控制器

![image-20220618231039657](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618231039657.png)

## 练习

![image-20220618231114261](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618231114261.png)

### 方法一 ：js写法

- 添加线程组

- 用户自定义变量

  ![image-20220618233501119](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618233501119.png)

- 添加 if 控制器，判断 name 是否等于 baidu

  ![image-20220618233508891](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618233508891.png)

- 添加 HTTP 请求，访问

- 添加 if 控制器，判断 name 是否等于 itcast

  ![image-20220618233518931](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618233518931.png)

- 观察结构树

  ![image-20220618233538275](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618233538275.png)

### 方法二 ：函数写法

- ![image-20220618233716646](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618233716646.png)
- ![image-20220618233642575](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220618233642575.png)

- ![image-20220618233734034](C:\Users\Bosco\AppData\Roaming\Typora\typora-user-images\image-20220618233734034.png)

## 作用

- 用来控制它下面的测试元素是否运行

## 操作步骤

![image-20220717151103581](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220717151103581.png)



# 循环控制器

## 作用

- 通过设置循环次数，来实现循环发送请求

## 操作步骤

![image-20220717151244672](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220717151244672.png)

## 思考

**线程组属性可以控制循环次数，那么循环控制器有什么用?**  

- 不同点：线程组的循环次数对线程组下的所有 HTTP 请求有效， 循环控制器的循环次数对子节点下的 HTTP 请求有效  
- 关联：循环控制器次数为 M，线程组循环次数为 N
  - 循环控制器下的请求运行：M*N 次  
  - 线程组下，非循环控制器下的请求运行：N 次  



# foreach控制器

## 作用

- 一般和用户白定义量或者正制表达式提取一起使用，读取返回结果中一系列相关的变量值，

## 操作步骤

![image-20220717151610953](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220717151610953.png)

## 练习

![image-20220619000653022](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220619000653022.png)

- ![image-20220619001652081](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220619001652081.png)
- ![image-20220619001702984](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220619001702984.png)
- ![image-20220619001712475](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220619001712475.png)
- ![image-20220619001720757](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220619001720757.png)
- ![image-20220619001730091](https://raw.githubusercontent.com/wongzz0019/blog/master/JMeter/img/image-20220619001730091.png)

